% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_batch_file_data.R
\name{get_batch_file_data}
\alias{get_batch_file_data}
\title{Download, Check, Flatten, and Combine MRR Files}
\usage{
get_batch_file_data(
  filenames,
  check_labels = c("warn", "error", "ignore"),
  keep_code_cols = TRUE,
  label_conflict = c("suffix", "overwrite", "skip"),
  use_codes_on_conflict = TRUE
)
}
\arguments{
\item{filenames}{A character vector of MRR file names to download and process.}

\item{check_labels}{Character; one of \code{"warn"}, \code{"error"}, or \code{"ignore"}.
Determines how to handle PDV/SPDV label inconsistencies across files.}

\item{keep_code_cols}{Logical, default \code{TRUE}. If \code{TRUE}, retains code
columns (pdv*, spdv*) in flattened tibbles. If \code{FALSE}, replaces with user field names.}

\item{label_conflict}{Character indicating how to handle name conflicts when creating
label-named columns. Options:
\describe{
\item{\code{"suffix"}}{Append \code{"_label"}, \code{"_label2"}, etc. (default).}
\item{\code{"overwrite"}}{Overwrite the existing column.}
\item{\code{"skip"}}{Do not create the label column if the name already exists.}
}}

\item{use_codes_on_conflict}{Logical, default \code{TRUE}. If \code{TRUE}, code columns are preferred over label-derived columns
when combining flattened tibbles to ensure a consistent schema.}
}
\value{
A list with three elements:
\itemize{
\item \code{sessions} – named list of flattened tibbles, one per file
\item \code{events} – a single tibble combining "events" from all files
\item \code{issues} – a data.frame of PDV/SPDV label inconsistencies detected across files
}
}
\description{
A one-call convenience wrapper to download multiple PTAGIS mark-recapture-recovery (MRR) XML files,
check for PDV/SPDV label consistency across files, and return everything as a single list.
}
\author{
Ryan Kinzer
}
