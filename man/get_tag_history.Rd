% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_tag_history.R
\name{get_tag_history}
\alias{get_tag_history}
\title{Get Observation Events for a Single PIT Tag}
\usage{
get_tag_history(api_key = NULL, tag_code, fields = NULL)
}
\arguments{
\item{api_key}{Optional PTAGIS API key. If omitted, the function attempts to use
the \code{PTAGIS_API_KEY} environment variable. Must be a single non-empty string.}

\item{tag_code}{Character string containing a single PIT tag code (e.g.,
\code{"384.1B79726A98"}). Case-insensitive; leading/trailing whitespace is trimmed.}

\item{fields}{Optional character vector of column names to retain after name
cleaning. If provided, only matching columns are returned.}
}
\value{
A tibble of observation events for the requested PIT tag. May be zero rows
if no events are available.
}
\description{
Retrieves the full PTAGIS observation (event) history for a single PIT tag.
The request uses the PTAGIS Events API endpoint and returns a cleaned
tibble with snake_case column names. Optional field selection can be used
to reduce the returned payload.
}
\examples{
\dontrun{
# recommended: store your key once per session
Sys.setenv(PTAGIS_API_KEY = "YOUR-KEY-HERE")
get_tag_history(tag_code = "384.1B79726A98")

# or pass the key manually
get_tag_history(api_key = "YOUR-KEY-HERE", tag_code = "384.1B79726A98",
                fields = c("event_time", "site_code", "antenna"))
}

}
\author{
Ryan Kinzer
}
