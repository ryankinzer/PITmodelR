% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_tag_history.R
\name{get_tag_history}
\alias{get_tag_history}
\title{Get Observation Events for a Single PIT Tag}
\usage{
get_tag_history(api_key = NULL, tag_code, fields = NULL)
}
\arguments{
\item{api_key}{PTAGIS API key. If omitted, the function attempts to use
the \code{PTAGIS_API_KEY} environment variable. Must be a single non-empty string.}

\item{tag_code}{Character string containing a single PIT tag code (e.g.,
\code{"384.1B79726A98"}). Case-insensitive; any leading/trailing whitespace is trimmed.}

\item{fields}{Optional character vector of column names to retain after cleaning.}
}
\value{
A tibble of MRR and observation events for the requested PIT tag. May be zero rows
if no events are available.
}
\description{
Retrieves all mark-recapture-recovery (MRR) events and observations associated
with a single PIT tag code from PTAGIS. The request uses the PTAGIS events API
endpoint and returns a cleaned tibble.
}
\examples{
\dontrun{
# recommended: store your key once per session
Sys.setenv(PTAGIS_API_KEY = "YOUR-KEY-HERE")
get_tag_history(tag_code = "384.1B79726A98")

# or pass the key manually, and reduce fields
get_tag_history(api_key = "YOUR-KEY-HERE", tag_code = "384.1B79726A98",
                fields = c("tag_code", "site_code", "event_type", "event_date"))
}

}
\author{
Ryan Kinzer
}
