% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/timing_helpers.R
\name{summarize_arrival_travel}
\alias{summarize_arrival_travel}
\title{Summarize arrival times and travel times between locations}
\usage{
summarize_arrival_travel(
  tag_history,
  locs_def,
  site_col = "site_code",
  tag_col = "tag_code",
  time_col = "event_time",
  tz = "UTC",
  keep_unknown = FALSE
)
}
\arguments{
\item{tag_history}{data.frame/tibble with at least `tag_code`, `site_code`, `event_time`.}

\item{locs_def}{Either a character vector of ordered occasions (e.g., c("SECTRP","ZEN",...)),
or a named list mapping occasion -> one or more site codes
(e.g., list(LGR=c("GRJ","GRS","LGR"), Down=c("LMN","MCN","BON"))).}

\item{site_col}{Column name containing site codes (default "site_code").}

\item{tag_col}{Column name containing tag IDs   (default "tag_code").}

\item{time_col}{Column name with event timestamps (default "event_time").}

\item{tz}{Time zone used when parsing `time_col` if it is character (default "UTC").}

\item{keep_unknown}{logical; keep events whose site_code is not in `locs_def`? (default FALSE).}
}
\value{
A list with elements:
  - arrivals_long:  first-arrival time per tag x occasion (long)
  - arrivals_wide:  first-arrival time per tag (wide by occasion)
  - travel_long:    travel time (days) per tag and leg (o_i -> o_{i+1})
  - occasion_summary: arrival-time quantiles by occasion
  - leg_summary:       travel-time quantiles by leg
  - mapping: site_code -> occasion, occ_idx
  - dropped_summary: counts of unknown sites (if removed)
}
\description{
Given raw tag events and a survival-location definition, returns:
- First-arrival time at each occasion per tag
- Travel time between consecutive occasions per tag
- Per-occasion arrival summaries (n, quantiles)
- Per-leg travel-time summaries (n, quantiles)
}
